<div class="nja-profile">
    <nav class="nja-no-collapse navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <div class="navbar-brand">
                    Profile
                </div>
                <div ng-if="!model.usernameUrlParam">
                    <a class="navbar-brand navbar-right"
                       ng-click="model.updateUser(model.user)"
                       role="button">
                        <span class="glyphicon glyphicon-ok"></span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="nja-no-collapse container-fluid">
        <div class="row" ng-if="model.usernameUrlParam">
            <div class="col-sm-6 col-xs-12">
                <h3>{{model.user.firstName}} {{model.user.lastName}}
                </h3>

                <h6>({{model.user.username}})</h6>
            </div>
            <div class="col-sm-6 col-xs-12">
                <a class="btn btn-default btn-primary pull-right"
                   ng-if="!model.following"
                   ng-click="model.followUser()"
                   role="button">
                    <span class="glyphicon glyphicon-plus"></span>
                    <span class="glyphicon glyphicon-user"></span>
                </a>

                <a class="btn btn-default pull-right"
                   ng-if="model.following"
                   ng-click="model.unfollowUser()"
                   ng-mouseover="model.hoverIn()"
                   ng-mouseLeave="model.hoverOut()"
                   ng-class="model.applyClass"
                   role="button">
                    <span ng-if="model.hover" class="glyphicon glyphicon-remove"></span>
                    <span ng-if="!model.hover" class="glyphicon glyphicon-ok"></span>
                    <span class="glyphicon glyphicon-user"></span>
                </a>
            </div>
        </div>
        <div ng-if="!model.usernameUrlParam">
            <label for="firstName">First Name</label>
            <input name="firstName"
                   ng-model="model.user.firstName"
                   placeholder="Noah"
                   type="text"
                   class="form-control"
                   id="firstName"/>

            <label for="lastName">Last Name</label>
            <input name="lastName"
                   ng-model="model.user.lastName"
                   placeholder="Appleby"
                   type="text"
                   class="form-control"
                   id="lastName"/>

            <label for="username">Username</label>
            <input name="username"
                   ng-model="model.user.username"
                   readonly
                   value="noah"
                   class="form-control"
                   id="username"/>

            <label for="email">Email</label>
            <input name="email"
                   ng-model="model.user.email"
                   type="email"
                   placeholder="noah@appleby.com"
                   class="form-control"
                   id="email"/>

            <label for="dob">Date of Birth</label>
            <input name="dob"
                   type="date"
                   class="form-control"
                   id="dob"/>

            <a class="btn btn-default btn-primary btn-block"
               href="#!/search"
               role="button">Place Search</a>
        </div>

        <div class="row">
            <div class="col-sm-6 col-xs-12">
                <ul class="list-group">
                    <a class="list-group-item list-group-item-info">
                        <h4>Visited:</h4>
                    </a>
                    <div ng-repeat="place in model.places">
                        <a href="#!/place/{{place.place_id}}" class="list-group-item">
                            <p>
                                <b>{{place.name}}</b>
                                <br>
                                {{place.address}}
                            </p>
                        </a>
                    </div>
                </ul>
            </div>

            <div class="col-sm-6 col-xs-12">
                <ul class="list-group">
                    <a class="list-group-item list-group-item-info">
                        <h4>Following:</h4>
                    </a>
                    <div ng-repeat="user in model.user.usersFollowing">
                        <a href="#!/user/{{user.username}}" class="list-group-item">
                            <b>{{user.username}}</b>
                        </a>
                    </div>
                </ul>
            </div>
        </div>

        <div ng-if="!model.usernameUrlParam">
            <a class="btn btn-default btn-danger btn-block"
               ng-click="model.logout()"
               role="button">Logout</a>

            <a class="btn btn-default btn-warning btn-block"
               ng-click="model.deleteUser(model.user)"
               role="button">Delete Account</a>
        </div>
    </div>

    <!-- Start Footer (same across all pages) -->
    <nav class="navbar navbar-default navbar-fixed-bottom">
        <div class="container-fluid">
            <a class="navbar-brand navbar-right"
               href="#!/user/{{model.userId}}">
                <span class="glyphicon glyphicon-user"></span>
            </a>
        </div>
    </nav>
</div>